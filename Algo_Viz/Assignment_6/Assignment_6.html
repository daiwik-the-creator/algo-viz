<!-- File: Assignment_6.html
Programmer: Daiwik Bhola
Description: 3D Tetrahedron in WebGL including controls for Rotate, Scale, Translate, Reflect, Shear, and Clustering (K-Means & DBSCAN)
Creation Date: 2025-03-19 -->

<html>
  <head>
    <title>Assignment #6</title>
    <style>
      /* Canvas as background */
      #game-surface {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        z-index: 0;
      }

      /* Controls on the left */
      #controls {
        position: fixed;
        top: 20px;
        left: 20px;
        background: rgba(255, 255, 255, 0.9);
        padding: 10px;
        border-radius: 8px;
        z-index: 99;
        font-family: Arial, sans-serif;
      }

      /* Reflection and Shear controls on the right */
      #bonus-controls {
        position: fixed;
        top: 20px;
        right: 20px;
        background: rgba(255, 255, 255, 0.9);
        padding: 10px;
        border-radius: 8px;
        z-index: 99;
        font-family: Arial, sans-serif;
      }

      label {
        display: block;
        margin-top: 8px;
      }
    </style>
  </head>
  <body>
    <canvas id="game-surface">
      Your browser does not support HTML5
    </canvas>

    <div id="controls">
      <strong>Translate:</strong><br>
      <label>-X
          <input type="range" id="translateX" min="-5" max="5" step="0.1" value="0">
          +X
      </label>
      <label>-Y
        <input type="range" id="translateY" min="-5" max="5" step="0.1" value="0">
        +Y
      </label>
      <label>-Z
        <input type="range" id="translateZ" min="-5" max="5" step="0.1" value="0">
        +Z
      </label>      
      <br>
      <strong>Rotate:</strong><br>
      <label>-X
          <input type="range" id="rotateX" min="-180" max="180" step="1" value="0">
          +X
      </label>
      <label>-Y
        <input type="range" id="rotateY" min="-180" max="180" step="1" value="0">
        +Y
      </label>
      <label>-Z
        <input type="range" id="rotateZ" min="-180" max="180" step="1" value="0">
        +Z
      </label>
      <br>
      <strong>Scale:</strong><br>
      <label>-X
          <input type="range" id="scaleX" min="0.1" max="5" step="0.1" value="1">
          +X
      </label>
      <label>-Y
        <input type="range" id="scaleY" min="0.1" max="5" step="0.1" value="1">
        +Y
      </label>
      <label>-Z
        <input type="range" id="scaleZ" min="0.1" max="5" step="0.1" value="1">
        +Z
      </label>
      <br>
      <button onclick="applyFirstTransform()">Scale 0.2 +X & Rotate 45 -Y</button><br><br>

      <strong>Clustering:</strong><br>
      <label>Algorithm:
        <select id="clusteringMethod" onchange="initializeClustering()">
          <option value="kmeans">K-Means</option>
          <option value="dbscan">DBSCAN</option>
        </select>
      </label>
      <button onclick="runClustering()">Run Clustering</button><br><br>
      <button onclick="reset()">Reset</button>
    </div>

    <div id="bonus-controls">
      <strong>Reflection:</strong><br>
      <label>Reflect X
        <input type="checkbox" id="reflectX">
      </label><br>
      <label>Reflect Y
        <input type="checkbox" id="reflectY">
      </label><br>
      <label>Reflect Z
        <input type="checkbox" id="reflectZ">
      </label><br>
      <strong>Shear:</strong><br>
      <label for="shearX">Shear X:</label>
      <input type="number" id="shearX" value="0" step="0.1"><br>
      <label for="shearY">Shear Y:</label>
      <input type="number" id="shearY" value="0" step="0.1"><br>
      <label for="shearZ">Shear Z:</label>
      <input type="number" id="shearZ" value="0" step="0.1"><br>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    <script src="../Common/initShaders.js"></script>
    <script src="../Common/MV.js"></script>
    <script src="Assignment_6.js"></script>
    <script>
      function initializeClustering() {
        let method = document.getElementById("clusteringMethod").value;
        if (method === "kmeans") {
          kMeans.initialize();
        } else if (method === "dbscan") {
          dbscan.initialize();
        }
      }

      function runClustering() {
        let method = document.getElementById("clusteringMethod").value;
        if (method === "kmeans") {
          kMeans.nextStep();
        } else if (method === "dbscan") {
          dbscan.nextStep();
        }
      }
    </script>
  </body>
</html>
